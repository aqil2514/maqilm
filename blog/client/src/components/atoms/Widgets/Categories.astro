---
import { getCollection } from "astro:content";
import { getContentCategories } from "../../../utils";

const collections = await getCollection("blog");
const categoriesSet = getContentCategories(collections)

const categories = categoriesSet.slice(0, 5);
---

<section class="categories">
  <h2>Kategori</h2>
  <ul>
    {
      categories.map((category) => (
        <li>
          <a href={`/category/${category.toLowerCase().replace(/\s+/g, "-")}`}>
            {category}
          </a>
        </li>
      ))
    }
  </ul>
  <a href="/category">
  Kategori Lainnya &gt;&gt;</a>
</section>

<style>
  .categories {
    padding: 1rem;
    background-color: var(--primary-background);
    border-radius: 8px;
  }

  .categories h2 {
    font-size: 1.2rem;
    color: var(--primary-text);
    margin-bottom: 0.5rem;
  }

  .categories ul {
    list-style: disc;
    padding-left: 1rem;
  }

  .categories li {
    margin-bottom: 0.5rem;
    color: var(--primary-text);
  }

  .categories a {
    text-decoration: none;
    color: var(--primary-text);
  }

  .categories a:hover {
    text-decoration: underline;
  }
</style>
